(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8977],{57045:function(e,t,r){"use strict";var n=r(86006),o=r(84815),i=r(2343),a=r(82131),l=r(9268);function s(e){return e.substring(2).toLowerCase()}t.Z=function(e){let{children:t,disableReactTree:r=!1,mouseEvent:c="onClick",onClickAway:d,touchEvent:h="onTouchEnd"}=e,p=n.useRef(!1),u=n.useRef(null),x=n.useRef(!1),m=n.useRef(!1);n.useEffect(()=>(setTimeout(()=>{x.current=!0},0),()=>{x.current=!1}),[]);let g=(0,o.Z)(t.ref,u),f=(0,i.Z)(e=>{let t=m.current;m.current=!1;let n=(0,a.Z)(u.current);if(x.current&&u.current&&(!("clientX"in e)||!(n.documentElement.clientWidth<e.clientX)&&!(n.documentElement.clientHeight<e.clientY))){if(p.current){p.current=!1;return}(e.composedPath?e.composedPath().indexOf(u.current)>-1:!n.documentElement.contains(e.target)||u.current.contains(e.target))||!r&&t||d(e)}}),Z=e=>r=>{m.current=!0;let n=t.props[e];n&&n(r)},v={ref:g};return!1!==h&&(v[h]=Z(h)),n.useEffect(()=>{if(!1!==h){let e=s(h),t=(0,a.Z)(u.current),r=()=>{p.current=!0};return t.addEventListener(e,f),t.addEventListener("touchmove",r),()=>{t.removeEventListener(e,f),t.removeEventListener("touchmove",r)}}},[f,h]),!1!==c&&(v[c]=Z(c)),n.useEffect(()=>{if(!1!==c){let e=s(c),t=(0,a.Z)(u.current);return t.addEventListener(e,f),()=>{t.removeEventListener(e,f)}}},[f,c]),(0,l.jsx)(n.Fragment,{children:n.cloneElement(t,v)})}},32428:function(e,t,r){"use strict";var n=r(46750),o=r(40431),i=r(86006);r(10854);var a=r(89791),l=r(47562),s=r(95457),c=r(18006),d=r(90281),h=r(37487),p=r(71118),u=r(9268);let x=["children","className","component","componentsProps","max","slotProps","spacing","total","variant"],m={small:-16,medium:null},g=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"],avatar:["avatar"]},p.m,t)},f=(0,s.ZP)("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(e,t)=>(0,o.Z)({[`& .${p.Z.avatar}`]:t.avatar},t.root)})(({theme:e})=>({[`& .${d.Z.root}`]:{border:`2px solid ${(e.vars||e).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"})),Z=(0,s.ZP)(h.Z,{name:"MuiAvatarGroup",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})(({theme:e})=>({border:`2px solid ${(e.vars||e).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}})),v=i.forwardRef(function(e,t){var r;let l=(0,c.Z)({props:e,name:"MuiAvatarGroup"}),{children:s,className:d,component:h="div",componentsProps:p={},max:v=5,slotProps:b={},spacing:j="medium",total:y,variant:w="circular"}=l,k=(0,n.Z)(l,x),C=v<2?2:v,S=(0,o.Z)({},l,{max:v,spacing:j,component:h,variant:w}),P=g(S),z=i.Children.toArray(s).filter(e=>i.isValidElement(e)),W=y||z.length;W===C&&(C+=1),C=Math.min(W+1,C);let _=Math.min(z.length,C-1),O=Math.max(W-C,W-_,0),R=j&&void 0!==m[j]?m[j]:-j,F=null!=(r=b.additionalAvatar)?r:p.additionalAvatar;return(0,u.jsxs)(f,(0,o.Z)({as:h,ownerState:S,className:(0,a.Z)(P.root,d),ref:t},k,{children:[O?(0,u.jsxs)(Z,(0,o.Z)({ownerState:S,variant:w},F,{className:(0,a.Z)(P.avatar,null==F?void 0:F.className),style:(0,o.Z)({marginLeft:R},null==F?void 0:F.style),children:["+",O]})):null,z.slice(0,_).reverse().map((e,t)=>i.cloneElement(e,{className:(0,a.Z)(e.props.className,P.avatar),style:(0,o.Z)({marginLeft:t===_-1?void 0:R},e.props.style),variant:e.props.variant||w}))]}))});t.Z=v},71118:function(e,t,r){"use strict";r.d(t,{m:function(){return i}});var n=r(88539),o=r(13809);function i(e){return(0,o.Z)("MuiAvatarGroup",e)}let a=(0,n.Z)("MuiAvatarGroup",["root","avatar"]);t.Z=a},17095:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(40431),o=r(46750),i=r(86006),a=r(89791),l=r(47562),s=r(95457),c=r(18006),d=r(23835),h=r(88539),p=r(13809);function u(e){return(0,p.Z)("MuiCard",e)}(0,h.Z)("MuiCard",["root"]);var x=r(9268);let m=["className","raised"],g=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"]},u,t)},f=(0,s.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Z=i.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiCard"}),{className:i,raised:l=!1}=r,s=(0,o.Z)(r,m),d=(0,n.Z)({},r,{raised:l}),h=g(d);return(0,x.jsx)(f,(0,n.Z)({className:(0,a.Z)(h.root,i),elevation:l?8:void 0,ref:t,ownerState:d},s))});var v=Z},63615:function(e,t,r){"use strict";var n=r(46750),o=r(40431),i=r(86006),a=r(89791),l=r(47562),s=r(23639),c=r(78473),d=r(68118),h=r(13638),p=r(23835),u=r(18006),x=r(95457),m=r(53963),g=r(55924),f=r(18723),Z=r(4957),v=r(9268);let b=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],j=(0,x.ZP)(f.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),y=e=>{let{classes:t,scroll:r,maxWidth:n,fullWidth:o,fullScreen:i}=e,a={root:["root"],container:["container",`scroll${(0,c.Z)(r)}`],paper:["paper",`paperScroll${(0,c.Z)(r)}`,`paperWidth${(0,c.Z)(String(n))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return(0,l.Z)(a,m.D,t)},w=(0,x.ZP)(d.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),k=(0,x.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.container,t[`scroll${(0,c.Z)(r.scroll)}`]]}})(({ownerState:e})=>(0,o.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===e.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===e.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),C=(0,x.ZP)(p.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.paper,t[`scrollPaper${(0,c.Z)(r.scroll)}`],t[`paperWidth${(0,c.Z)(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>(0,o.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===t.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===t.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===t.maxWidth&&{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${m.Z.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&"xs"!==t.maxWidth&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${m.Z.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${m.Z.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),S=i.forwardRef(function(e,t){let r=(0,u.Z)({props:e,name:"MuiDialog"}),l=(0,Z.Z)(),c={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":d,"aria-labelledby":x,BackdropComponent:m,BackdropProps:f,children:S,className:P,disableEscapeKeyDown:z=!1,fullScreen:W=!1,fullWidth:_=!1,maxWidth:O="sm",onBackdropClick:R,onClose:F,open:I,PaperComponent:E=p.Z,PaperProps:T={},scroll:A="paper",TransitionComponent:M=h.Z,transitionDuration:N=c,TransitionProps:D}=r,L=(0,n.Z)(r,b),$=(0,o.Z)({},r,{disableEscapeKeyDown:z,fullScreen:W,fullWidth:_,maxWidth:O,scroll:A}),G=y($),H=i.useRef(),U=(0,s.Z)(x),q=i.useMemo(()=>({titleId:U}),[U]);return(0,v.jsx)(w,(0,o.Z)({className:(0,a.Z)(G.root,P),closeAfterTransition:!0,components:{Backdrop:j},componentsProps:{backdrop:(0,o.Z)({transitionDuration:N,as:m},f)},disableEscapeKeyDown:z,onClose:F,open:I,ref:t,onClick:e=>{H.current&&(H.current=null,R&&R(e),F&&F(e,"backdropClick"))},ownerState:$},L,{children:(0,v.jsx)(M,(0,o.Z)({appear:!0,in:I,timeout:N,role:"presentation"},D,{children:(0,v.jsx)(k,{className:(0,a.Z)(G.container),onMouseDown:e=>{H.current=e.target===e.currentTarget},ownerState:$,children:(0,v.jsx)(C,(0,o.Z)({as:E,elevation:24,role:"dialog","aria-describedby":d,"aria-labelledby":U},T,{className:(0,a.Z)(G.paper,T.className),ownerState:$,children:(0,v.jsx)(g.Z.Provider,{value:q,children:S})}))})}))}))});t.Z=S},55924:function(e,t,r){"use strict";var n=r(86006);let o=n.createContext({});t.Z=o},53963:function(e,t,r){"use strict";r.d(t,{D:function(){return i}});var n=r(88539),o=r(13809);function i(e){return(0,o.Z)("MuiDialog",e)}let a=(0,n.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);t.Z=a},87194:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(46750),o=r(40431),i=r(86006),a=r(89791),l=r(47562),s=r(95457),c=r(18006),d=r(88539),h=r(13809);function p(e){return(0,h.Z)("MuiDialogContent",e)}(0,d.Z)("MuiDialogContent",["root","dividers"]);var u=r(17393),x=r(9268);let m=["className","dividers"],g=e=>{let{classes:t,dividers:r}=e;return(0,l.Z)({root:["root",r&&"dividers"]},p,t)},f=(0,s.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>(0,o.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${u.Z.root} + &`]:{paddingTop:0}})),Z=i.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiDialogContent"}),{className:i,dividers:l=!1}=r,s=(0,n.Z)(r,m),d=(0,o.Z)({},r,{dividers:l}),h=g(d);return(0,x.jsx)(f,(0,o.Z)({className:(0,a.Z)(h.root,i),ownerState:d,ref:t},s))});var v=Z},17393:function(e,t,r){"use strict";r.d(t,{a:function(){return i}});var n=r(88539),o=r(13809);function i(e){return(0,o.Z)("MuiDialogTitle",e)}let a=(0,n.Z)("MuiDialogTitle",["root"]);t.Z=a},56150:function(e,t,r){Promise.resolve().then(r.bind(r,30718))},56880:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthContext:function(){return o}});var n=r(86006);let o=(0,n.createContext)({})},1503:function(e,t,r){"use strict";r.d(t,{E:function(){return i}});var n=r(86006),o=r(56880);let i=()=>{let e=(0,n.useContext)(o.AuthContext);if(!e)throw Error("useAuthContext context must be use inside AuthProvider");return e}},31931:function(e,t,r){"use strict";r.d(t,{Z:function(){return p},S:function(){return o}});var n=r(86006);function o(){let[e,t]=(0,n.useState)(null),r=(0,n.useCallback)(e=>{t(e.currentTarget)},[]),o=(0,n.useCallback)(()=>{t(null)},[]);return{open:e,onOpen:r,onClose:o,setOpen:t}}var i=r(9268),a=r(67490),l=r(48343),s=r(95457),c=r(23343),d=r(42933);let h=(0,s.ZP)("span")(e=>{let{arrow:t,theme:r}=e,n={top:-6.5,transform:"rotate(135deg)"},o={bottom:-6.5,transform:"rotate(-45deg)"},i={left:-6.5,transform:"rotate(45deg)"},a={right:-6.5,transform:"rotate(-135deg)"};return{width:14,height:14,position:"absolute",borderBottomLeftRadius:3.5,clipPath:"polygon(0% 0%, 100% 100%, 0% 100%)",border:"solid 1px ".concat((0,c.Fq)("light"===r.palette.mode?r.palette.grey[500]:r.palette.common.black,.12)),...(0,d.Ls)({color:r.palette.background.paper}),..."top-left"===t&&{...n,left:20},..."top-center"===t&&{...n,left:0,right:0,margin:"auto"},..."top-right"===t&&{...n,right:20},..."bottom-left"===t&&{...o,left:20},..."bottom-center"===t&&{...o,left:0,right:0,margin:"auto"},..."bottom-right"===t&&{...o,right:20},..."left-top"===t&&{...i,top:20},..."left-center"===t&&{...i,top:0,bottom:0,margin:"auto"},..."left-bottom"===t&&{...i,bottom:20},..."right-top"===t&&{...a,top:20},..."right-center"===t&&{...a,top:0,bottom:0,margin:"auto"},..."right-bottom"===t&&{...a,bottom:20}}});function p(e){let{open:t,children:r,arrow:n="top-right",hiddenArrow:o,sx:s,...c}=e,{style:d,anchorOrigin:p,transformOrigin:u}=function(e){let t;switch(e){case"top-left":t={style:{ml:-.75},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}};break;case"top-center":t={style:{},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}};break;case"top-right":default:t={style:{ml:.75},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}};break;case"bottom-left":t={style:{ml:-.75},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"}};break;case"bottom-center":t={style:{},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"}};break;case"bottom-right":t={style:{ml:.75},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"}};break;case"left-top":t={style:{mt:-.75},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"}};break;case"left-center":t={anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"}};break;case"left-bottom":t={style:{mt:.75},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"}};break;case"right-top":t={style:{mt:-.75},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"}};break;case"right-center":t={anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"right"}};break;case"right-bottom":t={style:{mt:.75},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"}}}return t}(n);return(0,i.jsxs)(l.ZP,{open:!!t,anchorEl:t,anchorOrigin:p,transformOrigin:u,PaperProps:{sx:{width:"auto",overflow:"inherit",...d,["& .".concat(a.Z.root)]:{"& svg":{mr:2,flexShrink:0}},...s}},...c,children:[!o&&(0,i.jsx)(h,{arrow:n}),r]})}},45597:function(e,t,r){"use strict";r.d(t,{ZP:function(){return v},NX:function(){return o}});var n=r(86006);function o(e){let[t,r]=(0,n.useState)(-1),o=(0,n.useCallback)(t=>{let n=e.findIndex(e=>"video"===e.type?e.poster===t:e.src===t);r(n)},[e]),i=(0,n.useCallback)(()=>{r(-1)},[]);return{selected:t,open:t>=0,onOpen:o,onClose:i,setSelected:r}}var i=r(9268),a=r(41023),l=r(73418),s=r(86989),c=r(16519),d=r(11672),h=r(28464),p=r(3728),u=r(81771),x=r(55315),m=r(4957),g=r(23343),f=r(88906);function Z(){let e=(0,m.Z)(),t=(0,i.jsx)(f.Z,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":(0,g.Fq)(e.palette.grey[900],.9),"--yarl__slide_captions_container_background":(0,g.Fq)(e.palette.grey[900],.48)},".yarl__slide_title":{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.h5.fontWeight,lineHeight:e.typography.h5.lineHeight},".yarl__slide_description":{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.body2.fontWeight,lineHeight:e.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:e.palette.common.black}}});return t}function v(e){let{slides:t,disabledZoom:r,disabledVideo:n,disabledTotal:o,disabledCaptions:u,disabledSlideshow:m,disabledThumbnails:g,disabledFullscreen:f,onGetCurrentIndex:v,...j}=e,y=t?t.length:0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z,{}),(0,i.jsx)(a.ZP,{slides:t,animation:{swipe:240},carousel:{finite:y<5},controller:{closeOnBackdropClick:!0},plugins:function(e){let{disabledZoom:t,disabledVideo:r,disabledCaptions:n,disabledSlideshow:o,disabledThumbnails:i,disabledFullscreen:a}=e,u=[c.Z,h.Z,d.Z,p.Z,s.Z,l.Z];return i&&(u=u.filter(e=>e!==p.Z)),n&&(u=u.filter(e=>e!==c.Z)),a&&(u=u.filter(e=>e!==h.Z)),o&&(u=u.filter(e=>e!==d.Z)),t&&(u=u.filter(e=>e!==l.Z)),r&&(u=u.filter(e=>e!==s.Z)),u}({disabledZoom:r,disabledVideo:n,disabledCaptions:u,disabledSlideshow:m,disabledThumbnails:g,disabledFullscreen:f}),on:{view:e=>{let{index:t}=e;v&&v(t)}},toolbar:{buttons:[(0,i.jsx)(b,{totalItems:y,disabledTotal:o},0),"close"]},render:{iconClose:()=>(0,i.jsx)(x.Z,{width:24,icon:"carbon:close"}),iconZoomIn:()=>(0,i.jsx)(x.Z,{width:24,icon:"carbon:zoom-in"}),iconZoomOut:()=>(0,i.jsx)(x.Z,{width:24,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>(0,i.jsx)(x.Z,{width:24,icon:"carbon:play"}),iconSlideshowPause:()=>(0,i.jsx)(x.Z,{width:24,icon:"carbon:pause"}),iconPrev:()=>(0,i.jsx)(x.Z,{width:32,icon:"carbon:chevron-left"}),iconNext:()=>(0,i.jsx)(x.Z,{width:32,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>(0,i.jsx)(x.Z,{width:24,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>(0,i.jsx)(x.Z,{width:24,icon:"carbon:fit-to-screen"})},...j})]})}function b(e){let{totalItems:t,disabledTotal:r}=e,{currentIndex:n}=(0,a.oc)();return r?null:(0,i.jsxs)(u.Z,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[(0,i.jsxs)("strong",{children:[" ",n+1," "]})," / ",t]})}},65397:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(9268),o=r(90409),i=r(23835);function a(e){let{query:t,sx:r,...a}=e;return t?(0,n.jsxs)(i.Z,{sx:{bgcolor:"unset",textAlign:"center",...r},...a,children:[(0,n.jsx)(o.Z,{variant:"h6",gutterBottom:!0,children:"Not Found"}),(0,n.jsxs)(o.Z,{variant:"body2",children:["No results found for \xa0",(0,n.jsxs)("strong",{children:['"',t,'"']}),".",(0,n.jsx)("br",{})," Try checking for typos or using complete words."]})]}):(0,n.jsx)(o.Z,{variant:"body2",sx:r,children:"Please enter keywords"})}},30718:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ev}});var n=r(9268),o=r(86006),i=r(17095),a=r(65507),l=r(89843),s=r(90409),c=r(33849),d=r(65004),h=r(17950),p=r(74373),u=r(16418),x=r(1503);let m=h.H.demo.chat;function g(){let[e,t]=(0,o.useState)(!1),[r,n]=(0,o.useState)(!1),i=(0,o.useCallback)(()=>{n(e=>!e)},[]),a=(0,o.useCallback)(()=>{n(!1)},[]),l=(0,o.useCallback)(()=>{t(!0)},[]),s=(0,o.useCallback)(()=>{t(!1)},[]);return{openMobile:e,collapseDesktop:r,onOpenMobile:l,onCloseMobile:s,onCloseDesktop:a,onCollapseDesktop:i}}var f=r(4957),Z=r(81771),v=r(26250),b=r(39714),j=r(52992),y=r(55315),w=r(7688),k=r(72928),C=r(37504),S=r(37487),P=r(32428),z=r(88939),W=r(27052);function _(e){let{selected:t,collapse:r,conversation:o,onClickConversation:i}=e,{user:l}=(0,x.E)(),{group:c,unreadCount:d,displayName:h,displayText:p,participants:u,lastActivity:m,hasOnlineInGroup:g}=function(e){let{conversation:t,currentUserId:r}=e,{unreadCount:n,messages:o,participants:i}=t,a=i.filter(e=>e.id!==r),l=a.length>1,s=a.map(e=>e.name).join(", "),c=o[o.length-1].createdAt,d=!!l&&a.map(e=>e.status).includes("online"),h=o[o.length-1],p="";if(h){let e=h.senderId===r?"You: ":"",t="image"===h.contentType?"Sent a photo":h.body;p="".concat(e).concat(t)}return{group:l,unreadCount:n,displayName:s,displayText:p,participants:a,lastActivity:c,hasOnlineInGroup:d}}({conversation:o,currentUserId:null==l?void 0:l.id}),f=u[0],{name:v,avatarUrl:b,status:j}=f,y=(0,n.jsx)(C.Z,{variant:g?"online":"invisible",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,n.jsx)(P.Z,{variant:"compact",sx:{width:48,height:48},children:u.slice(0,2).map(e=>(0,n.jsx)(S.Z,{alt:e.name,src:e.avatarUrl},e.id))})}),w=(0,n.jsx)(C.Z,{variant:j,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,n.jsx)(S.Z,{alt:v,src:b,sx:{width:48,height:48}})},j);return(0,n.jsxs)(W.Z,{disableGutters:!0,onClick:i,sx:{py:1.5,px:2.5,...t&&{bgcolor:"action.selected"}},children:[(0,n.jsx)(C.Z,{color:"error",overlap:"circular",badgeContent:r?d:0,children:c?y:w}),!r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(z.Z,{sx:{ml:2},primary:h,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondary:p,secondaryTypographyProps:{noWrap:!0,component:"span",variant:d?"subtitle2":"body2",color:d?"text.primary":"text.secondary"}}),(0,n.jsxs)(a.Z,{alignItems:"flex-end",sx:{ml:2,height:44},children:[(0,n.jsx)(s.Z,{noWrap:!0,variant:"body2",component:"span",sx:{mb:1.5,fontSize:12,color:"text.disabled"},children:(0,k.Z)(new Date(m),{addSuffix:!1})}),!!d&&(0,n.jsx)(Z.Z,{sx:{width:8,height:8,bgcolor:"info.main",borderRadius:"50%"}})]})]})]})}var O=r(1326),R=r(81645),F=r(57045);function I(e){let{value:t,onSearchContact:r,onClickAway:o}=e;return(0,n.jsx)(F.Z,{onClickAway:o,children:(0,n.jsx)(O.Z,{fullWidth:!0,value:t,onChange:r,placeholder:"Search contacts...",InputProps:{startAdornment:(0,n.jsx)(R.Z,{position:"start",children:(0,n.jsx)(y.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})},sx:{mt:2.5}})})}var E=r(14200),T=r(19744),A=r(8929),M=r(53628),N=r(99620),D=r(3451),L=r(31931);function $(){let{user:e}=(0,x.E)(),t=(0,L.S)(),[r,i]=(0,o.useState)("online"),l=(0,o.useCallback)(e=>{i(e.target.value)},[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C.Z,{variant:r,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,n.jsx)(S.Z,{src:null==e?void 0:e.photoURL,alt:null==e?void 0:e.displayName,onClick:t.onOpen,sx:{cursor:"pointer",width:48,height:48}})}),(0,n.jsxs)(L.Z,{open:t.open,onClose:t.onClose,arrow:"top-left",sx:{p:0},children:[(0,n.jsxs)(a.Z,{direction:"row",alignItems:"center",spacing:2,sx:{py:2,pr:1,pl:2.5},children:[(0,n.jsx)(z.Z,{primary:null==e?void 0:e.displayName,secondary:null==e?void 0:e.email,secondaryTypographyProps:{component:"span"}}),(0,n.jsx)(T.Z,{title:"Log out",children:(0,n.jsx)(b.Z,{color:"error",children:(0,n.jsx)(y.Z,{icon:"ic:round-power-settings-new"})})})]}),(0,n.jsx)(E.Z,{sx:{borderStyle:"dashed"}}),(0,n.jsxs)(a.Z,{sx:{p:1},children:[(0,n.jsxs)(A.Z,{children:[(0,n.jsx)(C.Z,{variant:r,sx:{["& .".concat(N.Z.badge)]:{position:"static",m:.75,width:12,height:12,flexShrink:0}}}),(0,n.jsx)(D.Z,{native:!0,fullWidth:!0,value:r,onChange:l,input:(0,n.jsx)(M.ZP,{sx:{pl:2}}),inputProps:{sx:{textTransform:"capitalize"}},children:["online","alway","busy","offline"].map(e=>(0,n.jsx)("option",{value:e,children:e},e))})]}),(0,n.jsxs)(A.Z,{children:[(0,n.jsx)(y.Z,{icon:"solar:user-id-bold",width:24}),"Profile"]}),(0,n.jsxs)(A.Z,{children:[(0,n.jsx)(y.Z,{icon:"eva:settings-2-fill",width:24}),"Settings"]})]})]})]})}var G=r(9238);function H(e){let{sx:t,...r}=e;return(0,n.jsxs)(a.Z,{spacing:2,direction:"row",alignItems:"center",sx:{px:2.5,py:1.5,...t},...r,children:[(0,n.jsx)(G.Z,{variant:"circular",sx:{width:48,height:48}}),(0,n.jsxs)(a.Z,{spacing:1,flexGrow:1,children:[(0,n.jsx)(G.Z,{sx:{width:.75,height:10}}),(0,n.jsx)(G.Z,{sx:{width:.5,height:10}})]})]})}var U=r(65397);function q(e){let{searchQuery:t,searchResults:r,onClickResult:o}=e,i=r.length;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.Z,{paragraph:!0,variant:"h6",sx:{px:2.5},children:["Contacts (",i,")"]}),!i&&t?(0,n.jsx)(U.Z,{query:t,sx:{p:3,mx:"auto",width:"calc(100% - 40px)",bgcolor:"background.neutral"}}):(0,n.jsx)(n.Fragment,{children:r.map(e=>(0,n.jsxs)(W.Z,{onClick:()=>o(e),sx:{px:2.5,py:1.5,typography:"subtitle2"},children:[(0,n.jsx)(S.Z,{alt:e.name,src:e.avatarUrl,sx:{mr:2}}),e.name]},e.id))})]})}function B(e){let{loading:t,contacts:r,conversations:i,onClickConversation:l,currentConversationId:s}=e,c=(0,f.Z)(),d=(0,p.tv)(),u=(0,j.F)("up","md"),{collapseDesktop:x,onCloseDesktop:m,onCollapseDesktop:k,openMobile:C,onOpenMobile:S,onCloseMobile:P}=g(),[z,W]=(0,o.useState)(""),[O,R]=(0,o.useState)([]);(0,o.useEffect)(()=>{u||m()},[m,u]);let F=(0,o.useCallback)(()=>{u?k():P()},[u]),E=(0,o.useCallback)(()=>{u||P(),d.push(h.H.demo.chat)},[u]),T=(0,o.useCallback)(e=>{let{value:t}=e.target;if(W(t),t){let e=r.filter(e=>e.name.toLowerCase().includes(t));R(e)}else R([])},[r]),A=(0,o.useCallback)(e=>{W(""),d.push("".concat(h.H.demo.chat,"?id=").concat(e.id))},[]),M=(0,o.useCallback)(e=>{u||P(),l(e)},[P,u,l]),N=(0,o.useCallback)(()=>{W(""),R([])},[]),D=(0,n.jsx)(b.Z,{onClick:S,sx:{left:0,top:84,zIndex:9,width:32,height:32,position:"absolute",borderRadius:"0 12px 12px 0",bgcolor:c.palette.primary.main,boxShadow:c.customShadows.primary,color:c.palette.primary.contrastText,"&:hover":{bgcolor:c.palette.primary.darker}},children:(0,n.jsx)(y.Z,{width:16,icon:"solar:users-group-rounded-bold"})}),L=(0,n.jsx)(n.Fragment,{children:(t?[...Array(12)]:i.allIds).map((e,t)=>e?(0,n.jsx)(_,{collapse:x,conversation:i.byId[e],onClickConversation:()=>M(e),selected:e===s},e):(0,n.jsx)(H,{},t))}),G=(0,n.jsx)(q,{searchQuery:z,searchResults:O,onClickResult:A}),U=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"center",sx:{p:2.5,pb:0},children:[!x&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)($,{}),(0,n.jsx)(Z.Z,{sx:{flexGrow:1}})]}),(0,n.jsx)(b.Z,{onClick:F,children:(0,n.jsx)(y.Z,{icon:x?"eva:arrow-ios-forward-fill":"eva:arrow-ios-back-fill"})}),!x&&(0,n.jsx)(b.Z,{onClick:E,children:(0,n.jsx)(y.Z,{width:24,icon:"solar:user-plus-bold"})})]}),(0,n.jsx)(Z.Z,{sx:{p:2.5,pt:0},children:!x&&(0,n.jsx)(I,{value:z,onSearchContact:T,onClickAway:N})}),(0,n.jsx)(w.Z,{sx:{pb:1},children:z?G:L})]});return(0,n.jsxs)(n.Fragment,{children:[!u&&D,u?(0,n.jsx)(a.Z,{sx:{height:1,flexShrink:0,width:320,borderRight:"solid 1px ".concat(c.palette.divider),transition:c.transitions.create(["width"],{duration:c.transitions.duration.shorter}),...x&&{width:96}},children:U}):(0,n.jsx)(v.ZP,{open:C,onClose:P,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},children:U})]})}var Y=r(64774),X=r.n(Y),K=r(33563),V=r.n(K),Q=r(74495),J=r(39168),ee=r(23343),et=r(63615),er=r(87194);function en(e){let{participant:t,open:r,onClose:o}=e;return(0,n.jsxs)(et.Z,{fullWidth:!0,maxWidth:"xs",open:r,onClose:o,children:[(0,n.jsx)(b.Z,{onClick:o,sx:{position:"absolute",right:8,top:8},children:(0,n.jsx)(y.Z,{icon:"mingcute:close-line"})}),(0,n.jsxs)(er.Z,{sx:{py:5,px:3,display:"flex"},children:[(0,n.jsx)(S.Z,{alt:t.name,src:t.avatarUrl,sx:{width:96,height:96,mr:3}}),(0,n.jsxs)(a.Z,{spacing:1,children:[(0,n.jsx)(s.Z,{variant:"caption",sx:{color:"primary.main"},children:t.role}),(0,n.jsx)(s.Z,{variant:"subtitle1",children:t.name}),(0,n.jsxs)(a.Z,{direction:"row",sx:{typography:"caption",color:"text.disabled"},children:[(0,n.jsx)(y.Z,{icon:"mingcute:location-fill",width:16,sx:{flexShrink:0,mr:.5,mt:"2px"}}),t.address]}),(0,n.jsxs)(a.Z,{spacing:1,direction:"row",sx:{pt:1.5},children:[(0,n.jsx)(b.Z,{size:"small",color:"error",sx:{borderRadius:1,bgcolor:e=>(0,ee.Fq)(e.palette.error.main,.08),"&:hover":{bgcolor:e=>(0,ee.Fq)(e.palette.error.main,.16)}},children:(0,n.jsx)(y.Z,{width:18,icon:"solar:phone-bold"})}),(0,n.jsx)(b.Z,{size:"small",color:"info",sx:{borderRadius:1,bgcolor:e=>(0,ee.Fq)(e.palette.info.main,.08),"&:hover":{bgcolor:e=>(0,ee.Fq)(e.palette.info.main,.16)}},children:(0,n.jsx)(y.Z,{width:18,icon:"solar:chat-round-dots-bold"})}),(0,n.jsx)(b.Z,{size:"small",color:"primary",sx:{borderRadius:1,bgcolor:e=>(0,ee.Fq)(e.palette.primary.main,.08),"&:hover":{bgcolor:e=>(0,ee.Fq)(e.palette.primary.main,.16)}},children:(0,n.jsx)(y.Z,{width:18,icon:"fluent:mail-24-filled"})}),(0,n.jsx)(b.Z,{size:"small",color:"secondary",sx:{borderRadius:1,bgcolor:e=>(0,ee.Fq)(e.palette.secondary.main,.08),"&:hover":{bgcolor:e=>(0,ee.Fq)(e.palette.secondary.main,.16)}},children:(0,n.jsx)(y.Z,{width:18,icon:"solar:videocamera-record-bold"})})]})]})]})]})}function eo(e){let{participants:t}=e,[r,i]=(0,o.useState)(null),a=(0,J.k)(!0),l=(0,o.useCallback)(e=>{i(e)},[]),s=t.length,c=(0,n.jsxs)(W.Z,{onClick:a.onToggle,sx:{pl:2.5,pr:1.5,height:40,flexShrink:0,flexGrow:"unset",typography:"overline",color:"text.secondary",bgcolor:"background.neutral"},children:[(0,n.jsxs)(Z.Z,{component:"span",sx:{flexGrow:1},children:["In room (",s,")"]}),(0,n.jsx)(y.Z,{width:16,icon:a.value?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill"})]}),d=(0,n.jsx)(w.Z,{sx:{height:224},children:t.map(e=>(0,n.jsxs)(W.Z,{onClick:()=>l(e),children:[(0,n.jsx)(C.Z,{variant:e.status,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,n.jsx)(S.Z,{alt:e.name,src:e.avatarUrl})}),(0,n.jsx)(z.Z,{sx:{ml:2},primary:e.name,secondary:e.role,primaryTypographyProps:{noWrap:!0,typography:"subtitle2"},secondaryTypographyProps:{noWrap:!0,component:"span",typography:"caption"}})]},e.id))});return(0,n.jsxs)(n.Fragment,{children:[c,(0,n.jsx)("div",{children:(0,n.jsx)(Q.Z,{in:a.value,children:d})}),r&&(0,n.jsx)(en,{participant:r,open:!!r,onClose:()=>{i(null)}})]})}function ei(e){let{participant:t}=e,r=(0,J.k)(!0),{name:o,avatarUrl:i,role:l,address:c,phoneNumber:d,email:h}=t,p=(0,n.jsxs)(a.Z,{alignItems:"center",sx:{py:5},children:[(0,n.jsx)(S.Z,{alt:o,src:i,sx:{width:96,height:96,mb:2}}),(0,n.jsx)(s.Z,{variant:"subtitle1",children:o}),(0,n.jsx)(s.Z,{variant:"body2",sx:{color:"text.secondary",mt:.5},children:l})]}),u=(0,n.jsxs)(W.Z,{onClick:r.onToggle,sx:{pl:2.5,pr:1.5,height:40,flexShrink:0,flexGrow:"unset",typography:"overline",color:"text.secondary",bgcolor:"background.neutral"},children:[(0,n.jsx)(Z.Z,{component:"span",sx:{flexGrow:1},children:"Information"}),(0,n.jsx)(y.Z,{width:16,icon:r.value?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill"})]}),x=(0,n.jsxs)(a.Z,{spacing:2,sx:{px:2,py:2.5,"& svg":{mr:1,flexShrink:0,color:"text.disabled"}},children:[(0,n.jsxs)(a.Z,{direction:"row",children:[(0,n.jsx)(y.Z,{icon:"mingcute:location-fill"}),(0,n.jsx)(s.Z,{variant:"body2",children:c})]}),(0,n.jsxs)(a.Z,{direction:"row",children:[(0,n.jsx)(y.Z,{icon:"solar:phone-bold"}),(0,n.jsx)(s.Z,{variant:"body2",children:d})]}),(0,n.jsxs)(a.Z,{direction:"row",children:[(0,n.jsx)(y.Z,{icon:"fluent:mail-24-filled"}),(0,n.jsx)(s.Z,{variant:"body2",noWrap:!0,children:h})]})]});return(0,n.jsxs)(n.Fragment,{children:[p,u,(0,n.jsx)("div",{children:(0,n.jsx)(Q.Z,{in:r.value,children:x})})]})}var ea=r(246),el=r(67639);function es(e){let{attachments:t}=e,r=(0,J.k)(!0),o=t.length,i=(0,n.jsxs)(W.Z,{disabled:!t.length,onClick:r.onToggle,sx:{pl:2.5,pr:1.5,height:40,flexShrink:0,flexGrow:"unset",typography:"overline",color:"text.secondary",bgcolor:"background.neutral"},children:[(0,n.jsxs)(Z.Z,{component:"span",sx:{flexGrow:1},children:["Attachments (",o,")"]}),(0,n.jsx)(y.Z,{width:16,icon:!r.value&&"eva:arrow-ios-forward-fill"||!t.length&&"eva:arrow-ios-forward-fill"||"eva:arrow-ios-downward-fill"})]}),l=(0,n.jsx)(w.Z,{sx:{px:2,py:2.5},children:t.map((e,t)=>(0,n.jsxs)(a.Z,{spacing:1.5,direction:"row",alignItems:"center",sx:{mb:2},children:[(0,n.jsx)(a.Z,{alignItems:"center",justifyContent:"center",sx:{width:40,height:40,flexShrink:0,borderRadius:1,overflow:"hidden",position:"relative",backgroundColor:"background.neutral"},children:(0,n.jsx)(el.ZP,{imageView:!0,file:e.preview,onDownload:()=>console.info("DOWNLOAD"),sx:{width:28,height:28}})}),(0,n.jsx)(z.Z,{primary:e.name,secondary:(0,ea.zM)(e.createdAt),primaryTypographyProps:{noWrap:!0,typography:"body2"},secondaryTypographyProps:{mt:.25,noWrap:!0,component:"span",typography:"caption",color:"text.disabled"}})]},e.name+t))});return(0,n.jsxs)(n.Fragment,{children:[i,(0,n.jsx)(Z.Z,{sx:{overflow:"hidden",height:r.value?1:0,transition:e=>e.transitions.create(["height"],{duration:e.transitions.duration.shorter})},children:l})]})}function ec(e){let{participants:t,conversation:r}=e,i=(0,f.Z)(),l=(0,j.F)("up","lg"),{collapseDesktop:s,onCloseDesktop:c,onCollapseDesktop:d,openMobile:h,onOpenMobile:p,onCloseMobile:u}=g();(0,o.useEffect)(()=>{l||c()},[c,l]);let x=(0,o.useCallback)(()=>{l?d():p()},[l]),m=t.length>1,w=X()(V()(r.messages.map(e=>e.attachments))),k=(0,n.jsxs)(n.Fragment,{children:[m?(0,n.jsx)(eo,{participants:t}):(0,n.jsx)(ei,{participant:t[0]}),(0,n.jsx)(es,{attachments:w})]}),C=(0,n.jsx)(b.Z,{onClick:x,sx:{top:12,right:0,zIndex:9,width:32,height:32,borderRight:0,position:"absolute",borderRadius:"12px 0 0 12px",boxShadow:i.customShadows.z8,bgcolor:i.palette.background.paper,border:"solid 1px ".concat(i.palette.divider),"&:hover":{bgcolor:i.palette.background.neutral},...l&&{...!s&&{right:240}}},children:l?(0,n.jsx)(y.Z,{width:16,icon:s?"eva:arrow-ios-back-fill":"eva:arrow-ios-forward-fill"}):(0,n.jsx)(y.Z,{width:16,icon:"eva:arrow-ios-back-fill"})});return(0,n.jsxs)(Z.Z,{sx:{position:"relative"},children:[C,l?(0,n.jsx)(a.Z,{sx:{height:1,flexShrink:0,width:240,borderLeft:"solid 1px ".concat(i.palette.divider),transition:i.transitions.create(["width"],{duration:i.transitions.duration.shorter}),...s&&{width:0}},children:!s&&k}):(0,n.jsx)(v.ZP,{anchor:"right",open:h,onClose:u,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:240}},children:k})]})}var ed=r(45597);function eh(e){let{message:t,participants:r,onOpenLightbox:o}=e,{user:i}=(0,x.E)(),{me:l,senderDetails:c,hasImage:d}=function(e){let{message:t,participants:r,currentUserId:n}=e,o=r.find(e=>e.id===t.senderId),i=t.senderId===n?{type:"me"}:{avatarUrl:null==o?void 0:o.avatarUrl,firstName:null==o?void 0:o.name.split(" ")[0]},a="me"===i.type,l="image"===t.contentType;return{hasImage:l,me:a,senderDetails:i}}({message:t,participants:r,currentUserId:null==i?void 0:i.id}),{firstName:h,avatarUrl:p}=c,{body:u,createdAt:m}=t,g=(0,n.jsxs)(s.Z,{noWrap:!0,variant:"caption",sx:{mb:1,color:"text.disabled",...!l&&{mr:"auto"}},children:[!l&&"".concat(h,",")," \xa0",(0,k.Z)(new Date(m),{addSuffix:!0})]}),f=(0,n.jsx)(a.Z,{sx:{p:1.5,minWidth:48,maxWidth:320,borderRadius:1,typography:"body2",bgcolor:"background.neutral",...l&&{color:"grey.800",bgcolor:"primary.lighter"},...d&&{p:0,bgcolor:"transparent"}},children:d?(0,n.jsx)(Z.Z,{component:"img",alt:"attachment",src:u,onClick:()=>o(u),sx:{minHeight:220,borderRadius:1.5,cursor:"pointer","&:hover":{opacity:.9}}}):u}),v=(0,n.jsxs)(a.Z,{direction:"row",className:"message-actions",sx:{pt:.5,opacity:0,top:"100%",left:0,position:"absolute",transition:e=>e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter}),...l&&{left:"unset",right:0}},children:[(0,n.jsx)(b.Z,{size:"small",children:(0,n.jsx)(y.Z,{icon:"solar:reply-bold",width:16})}),(0,n.jsx)(b.Z,{size:"small",children:(0,n.jsx)(y.Z,{icon:"eva:smiling-face-fill",width:16})}),(0,n.jsx)(b.Z,{size:"small",children:(0,n.jsx)(y.Z,{icon:"solar:trash-bin-trash-bold",width:16})})]});return(0,n.jsxs)(a.Z,{direction:"row",justifyContent:l?"flex-end":"unset",sx:{mb:5},children:[!l&&(0,n.jsx)(S.Z,{alt:h,src:p,sx:{width:32,height:32,mr:2}}),(0,n.jsxs)(a.Z,{alignItems:"flex-end",children:[g,(0,n.jsxs)(a.Z,{direction:"row",alignItems:"center",sx:{position:"relative","&:hover":{"& .message-actions":{opacity:1}}},children:[f,v]})]})]})}function ep(e){let{messages:t,participants:r}=e,{messagesEndRef:i}=function(e){let t=(0,o.useRef)(null),r=(0,o.useCallback)(()=>{e&&t.current&&t.current&&(t.current.scrollTop=t.current.scrollHeight)},[e]);return(0,o.useEffect)(()=>{r()},[e]),{messagesEndRef:t}}(t),a=t.filter(e=>"image"===e.contentType).map(e=>({src:e.body})),l=(0,ed.NX)(a);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.Z,{ref:i,sx:{px:3,py:5,height:1},children:(0,n.jsx)(Z.Z,{children:t.map(e=>(0,n.jsx)(eh,{message:e,participants:r,onOpenLightbox:()=>l.onOpen(e.body)},e.id))})}),(0,n.jsx)(ed.ZP,{index:l.selected,slides:a,open:l.open,close:l.onClose})]})}function eu(e){let{recipients:t,onSendCompose:r,onSendMessage:i,currentConversationId:l}=e,s=(0,p.tv)();(0,o.useEffect)(()=>{l&&s.push("".concat(h.H.demo.chat,"?id=").concat(l))},[l]);let c=(0,o.useRef)(null),[d,u]=(0,o.useState)(""),x=(0,o.useCallback)(()=>{c.current&&c.current.click()},[]),m=(0,o.useCallback)(e=>{u(e.target.value)},[]),g=(0,o.useCallback)(e=>{"Enter"===e.key&&(d&&(l?i(d):r(d)),u(""))},[l,d,r,i]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M.ZP,{value:d,onKeyUp:g,onChange:m,placeholder:"Type a message",disabled:!t.length&&!l,startAdornment:(0,n.jsx)(b.Z,{children:(0,n.jsx)(y.Z,{icon:"eva:smiling-face-fill"})}),endAdornment:(0,n.jsxs)(a.Z,{direction:"row",sx:{flexShrink:0},children:[(0,n.jsx)(b.Z,{onClick:x,children:(0,n.jsx)(y.Z,{icon:"solar:gallery-add-bold"})}),(0,n.jsx)(b.Z,{onClick:x,children:(0,n.jsx)(y.Z,{icon:"eva:attach-2-fill"})}),(0,n.jsx)(b.Z,{children:(0,n.jsx)(y.Z,{icon:"solar:microphone-bold"})})]}),sx:{px:1,height:56,flexShrink:0,borderTop:e=>"solid 1px ".concat(e.palette.divider)}}),(0,n.jsx)("input",{type:"file",ref:c,style:{display:"none"}})]})}var ex=r(71118);function em(e){let{participants:t}=e,r=t.length>1,o=t[0];return(0,n.jsxs)(n.Fragment,{children:[r?(0,n.jsx)(P.Z,{max:3,sx:{["& .".concat(ex.Z.avatar)]:{width:32,height:32}},children:t.map(e=>(0,n.jsx)(S.Z,{alt:e.name,src:e.avatarUrl},e.id))}):(0,n.jsxs)(a.Z,{flexGrow:1,direction:"row",alignItems:"center",spacing:2,children:[(0,n.jsx)(C.Z,{variant:o.status,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,n.jsx)(S.Z,{src:o.avatarUrl,alt:o.name})}),(0,n.jsx)(z.Z,{primary:o.name,secondary:"offline"===o.status?(0,ea.DY)(o.lastActivity):o.status,secondaryTypographyProps:{component:"span",..."offline"!==o.status&&{textTransform:"capitalize"}}})]}),(0,n.jsx)(a.Z,{flexGrow:1}),(0,n.jsx)(b.Z,{children:(0,n.jsx)(y.Z,{icon:"solar:phone-bold"})}),(0,n.jsx)(b.Z,{children:(0,n.jsx)(y.Z,{icon:"solar:videocamera-record-bold"})}),(0,n.jsx)(b.Z,{children:(0,n.jsx)(y.Z,{icon:"eva:more-vertical-fill"})})]})}var eg=r(13452),ef=r(73774);function eZ(e){let{contacts:t,onAddRecipients:r}=e,[i,l]=(0,o.useState)(""),c=(0,o.useCallback)(e=>{l(""),r(e)},[r]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{variant:"subtitle2",sx:{color:"text.primary",mr:2},children:"To:"}),(0,n.jsx)(ef.Z,{sx:{minWidth:320},multiple:!0,limitTags:3,popupIcon:null,disableCloseOnSelect:!0,noOptionsText:(0,n.jsx)(U.Z,{query:i}),onChange:(e,t)=>c(t),onInputChange:(e,t)=>l(t),options:t,getOptionLabel:e=>e.name,renderInput:e=>(0,n.jsx)(O.Z,{...e,placeholder:"+ Recipients"}),renderOption:(e,t,r)=>{let{selected:i}=r;return(0,o.createElement)("li",{...e,key:t.id,children:[(0,n.jsxs)(Z.Z,{sx:{mr:1,width:32,height:32,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[(0,n.jsx)(S.Z,{alt:t.name,src:t.avatarUrl,sx:{width:1,height:1}}),(0,n.jsx)(a.Z,{alignItems:"center",justifyContent:"center",sx:{top:0,left:0,width:1,height:1,opacity:0,position:"absolute",bgcolor:e=>(0,ee.Fq)(e.palette.grey[900],.8),transition:e=>e.transitions.create(["opacity"],{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.shorter}),...i&&{opacity:1,color:"primary.main"}},children:(0,n.jsx)(y.Z,{icon:"eva:checkmark-fill"})})]},t.id),t.name]})},renderTags:(e,t)=>e.map((e,r)=>(0,o.createElement)(eg.Z,{...t({index:r}),key:e.id,label:e.name,avatar:(0,n.jsx)(S.Z,{alt:e.name,src:e.avatarUrl}),variant:"soft"}))})]})}function ev(){!function(){let e=(0,c.I0)(),t=(0,p.tv)(),r=(0,p.lr)(),n=r.get("id"),i=(0,o.useCallback)(()=>{e((0,d.K2)())},[e]),a=(0,o.useCallback)(()=>{e((0,d.uv)())},[e]),l=(0,o.useCallback)(()=>{try{n?(e((0,d.cc)(n)),e((0,d.y5)(n))):(t.push(h.H.demo.chat),e((0,d.PY)()))}catch(e){console.error(e),t.push(h.H.demo.chat)}},[n,e]);(0,o.useEffect)(()=>{i()},[i]),(0,o.useEffect)(()=>{a()},[a]),(0,o.useEffect)(()=>{l()},[l])}();let e=(0,u.K$)(),{contacts:t,recipients:r,conversations:g,conversationsStatus:f,currentConversation:Z,currentConversationId:v,participantsInConversation:b,onSendCompose:j,onSendMessage:y,onAddRecipients:w,onClickNavItem:k}=function(){let e=(0,c.I0)(),t=(0,p.tv)(),{user:r}=(0,x.E)(),n=null==r?void 0:r.id,{contacts:i,recipients:a,conversations:l,currentConversationId:s,conversationsStatus:h}=(0,c.v9)(e=>e.chat),u=(0,c.v9)(()=>s?l.byId[s]:{id:"",messages:[],participants:[],unreadCount:0,type:""}),g=u.participants.filter(e=>e.id!==n),f=(0,o.useCallback)(e=>{let r;let o=l.byId[e];if("GROUP"===o.type)r=o.id;else{let e=o.participants.filter(e=>e.id!==n)[0].id;r=e}t.push("".concat(m,"?id=").concat(r))},[l.byId,n]),Z=(0,o.useCallback)(t=>{try{s&&e((0,d.bG)(s,t))}catch(e){console.error(e)}},[s,e]),v=(0,o.useCallback)(t=>{try{e((0,d.A0)(a,t))}catch(e){console.error(e)}},[e,a]),b=(0,o.useCallback)(t=>{e((0,d.sS)(t))},[e]);return{contacts:i,recipients:a,conversations:l,conversationsStatus:h,currentConversationId:s,currentConversation:u,participantsInConversation:g,onSendMessage:Z,onSendCompose:v,onAddRecipients:b,onClickNavItem:f}}(),C=!!v,S=(0,n.jsx)(a.Z,{direction:"row",alignItems:"center",flexShrink:0,sx:{pr:1,pl:2.5,py:1,minHeight:72},children:C?(0,n.jsx)(em,{participants:b}):(0,n.jsx)(eZ,{contacts:t,onAddRecipients:w})}),P=(0,n.jsx)(B,{contacts:t,conversations:g,onClickConversation:k,loading:f.loading,currentConversationId:v}),z=(0,n.jsxs)(a.Z,{sx:{width:1,height:1,overflow:"hidden"},children:[(0,n.jsx)(ep,{messages:Z.messages,participants:b}),(0,n.jsx)(eu,{recipients:r,onSendCompose:j,onSendMessage:y,currentConversationId:v})]});return(0,n.jsxs)(l.Z,{maxWidth:!e.themeStretch&&"xl",children:[(0,n.jsx)(s.Z,{variant:"h4",sx:{mb:{xs:3,md:5}},children:"Chat"}),(0,n.jsxs)(a.Z,{component:i.Z,direction:"row",sx:{height:"72vh"},children:[P,(0,n.jsxs)(a.Z,{sx:{width:1,height:1,overflow:"hidden"},children:[S,(0,n.jsxs)(a.Z,{direction:"row",sx:{width:1,height:1,overflow:"hidden",borderTop:e=>"solid 1px ".concat(e.palette.divider)},children:[z,C&&(0,n.jsx)(ec,{conversation:Z,participants:b})]})]})]})]})}}},function(e){e.O(0,[1278,2929,9083,5551,5597,5011,4571,9744,254,3628,8761,5650,570,2968,2916,3451,1326,6350,3774,7669,5456,2866,5982,9589,1147,2667,6488,1744],function(){return e(e.s=56150)}),_N_E=e.O()}]);